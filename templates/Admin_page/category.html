{% extends 'Admin_page/template.html' %}

<!----------------------------------------------------------------------------------------------------------->
<!-- HELP GUIDE BUTTON -->
{% block help_guide %}
<div class="help-guide">
    <a href="{{ url_for('help_guide_admin') + '#category'}}" target="_blank">
        <img src="{{ help_guide }}" alt="imageerror">
    </a>
</div>
{% endblock %}
<!----------------------------------------------------------------------------------------------------------->
  

<!----------------------------------------------------------------------------------------------------------->
<!-- ADD BUTTON -->
{% block addbutton %}
<button class="addbutton">
    <img src="{{ addButton }}" class="addadmin" alt="imageerror">
</button>
{% endblock %}
<!----------------------------------------------------------------------------------------------------------->
  
<!----------------------------------------------------------------------------------------------------------->
<!-- SIDEBAR -->
{% block dropdown_sidebar %}
<img src="{{ bawahKiri }}" class="bawahkiri" alt="imageerror">
<img src="{{ mail }}" class="mail" alt="imageerror">
<a href="{{ url_for('admin_record_page', page=1) }}" class="tablinks" id="defaultOpen">Records</a>
<button class="dropdown-btn">User</button>
<div id="userdropdown" class="dropdown-container">
    <a href="{{ url_for('admin_user_student_page', page=1) }}">Student</a>
    <a href="{{ url_for('admin_user_teacher_page', page=1) }}">Teacher</a>
    <a href="{{ url_for('admin_user_admin_page', page=1) }}">Admin</a>
</div>
<a href="{{ url_for('admin_category_page', page=1) }}" class="tablinks">Category</a>
<a href="{{ url_for('admin_history_page', page=1) }}" class="tablinks">History</a>
{% endblock %}
<!----------------------------------------------------------------------------------------------------------->
  
<!----------------------------------------------------------------------------------------------------------->
<!-- ADD POPUP WINDOW -->
{% block addpopup %}
<form action="{{ url_for('admin_add_category_page') }}"  method="POST" class="form-container" style="justify-content: initial;">
    <h1>CATEGORY FORM</h1>
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    <input type="hidden" name="urutan_accepted" class="urutan-accepted">
    <div style="display: flex;flex-direction: column;overflow-y: auto; flex: none; height: 70%">
        <input type="text" placeholder="Category Name" name="categoryname" class="addcategoryname" required>
        <textarea id="contentt" class="addcategorycontent" placeholder="Content Template dynamic text replaced with {{ '{{' }} }}" name="isicontent" rows="10" cols="50"></textarea>
        <div class="container">
            <h3>Available role :</h3>
            <ul id="add-available-jurusan">
                {% for role in available_role %}
                    <li><input type="checkbox" id="{{role[0]}}"><label for="{{role[0]}}">{{ role[0] }}</label></li>
                {% endfor %}
              </ul>      
            <h3>Accepted by (in order):</h3>
            <ul id="add-accepted-by">
            </ul>
        </div>    
    </div>
    
    <button type="submit" class="btnsubmit">Submit</button>
    <button type="button" class="btncancel"> &#60; Back</button>
</form>
{% endblock %}
<!----------------------------------------------------------------------------------------------------------->
  
<!----------------------------------------------------------------------------------------------------------->
<!-- DELETE FORM -->
{% block edit_delete_form %}
<form method="POST" action="{{ url_for('admin_category_delete_page') }}">
    <input type="hidden" name="id" class="id-input-delete">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    <button type="submit" style="display: none;" class="submit-delete"></button>
</form>
<!----------------------------------------------------------------------------------------------------------->
  
<!----------------------------------------------------------------------------------------------------------->
<!-- EDIT FORM -->
<div class="categoryeditpopupcontainer">
    <div class="category">
      <p>CATEGORY</p>
    </div>
    <form method="POST" action="{{ url_for('admin_category_edit_page') }}" class="inputeditcontainer">
        <input type="hidden" name="id" class="id-input-edit">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
        <input type="hidden" name="urutan_accepted" class="edit-urutan-accepted">
        <button type="submit" style="display: none;" class="submit-edit"></button>
        <input type="text" placeholder="Category Name" name="categoryname" class="editcategoryname" required>
        <textarea id="contenttextareaid" placeholder="Content Template dynamic text replaced with {{ '{{' }} }}" name="isicontent" class="editcontent" rows="10" cols="50"></textarea>

        <div class="container">
            <h3>Available role :</h3>
            <ul id="edit-available-jurusan" class="edit-available-jurusan">
            </ul>      
            <h3>Accepted by (in order) :</h3>
            <ul id="edit-accepted-by" class="edit-accepted-by">
            </ul>
          </div>

        <button type="submit" style="display: none;" class="submit-edit"></button>
    </form>
    <div class="buttonconfirm">
        <button class="confirm">
        <p>CONFIRM</p>
        </button>
    </div>
    <div class="buttonback">
    <button class="back">
        <p>back</p>
    </button>
    </div>
</div>
{% endblock %}
<!----------------------------------------------------------------------------------------------------------->
  
<!----------------------------------------------------------------------------------------------------------->
<!-- ADDITIONAL SCRIPT -->
{% block script %}
<script src="{{ url_for('static', filename='js/admin/category.js') }}"></script>
{% endblock %}
<!----------------------------------------------------------------------------------------------------------->
  